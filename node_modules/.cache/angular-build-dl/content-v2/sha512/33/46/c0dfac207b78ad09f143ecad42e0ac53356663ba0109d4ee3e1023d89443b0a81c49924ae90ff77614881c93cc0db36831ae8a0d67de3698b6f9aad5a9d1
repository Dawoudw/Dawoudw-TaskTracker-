{"version":3,"sources":["webpack:///src/app/Pages/task-subview/task-subview.page.html","webpack:///src/app/Pages/task-subview/task-subview-routing.module.ts","webpack:///src/app/Pages/task-subview/task-subview.module.ts","webpack:///src/app/Pages/task-subview/task-subview.page.scss","webpack:///src/app/Pages/task-subview/task-subview.page.ts"],"names":["routes","path","component","TaskSubviewPageRoutingModule","imports","forChild","exports","TaskSubviewPageModule","declarations","TaskSubviewPage","route","navCtrl","tasksService","alCtr","loadedTask","Object","create","paramMap","subscribe","has","navigateBack","taskSub","getTask","get","task","console","log","id","updateTask","back","subHeader","cssClass","message","buttons","text","role","handler","deleteTask","then","al","present","fetchMyTasks","loginedUser","userId","unsubscribe","selector","template"],"mappings":"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","file":"task-subview-task-subview-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button\\n        defaultHref=\\\"/tasktracker/teamprogress\\\"\\n        text=\\\"\\\"\\n      ></ion-back-button>\\n    </ion-buttons>\\n    <ion-title size=\\\"small\\\" color=\\\"primary\\\">\\n      <ion-label class=\\\"ion-text-start ion-text-capitalize\\\">\\n        <ion-label color=\\\"primary\\\" mode=\\\"ios\\\" position=\\\"stacked\\\">\\n          <b>Task View</b></ion-label\\n        >\\n      </ion-label></ion-title\\n    >\\n  </ion-toolbar>\\n</ion-header>\\n\\n<!-- Card view  -->\\n<ion-content fullscreen>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col\\n        size-xs=\\\"12\\\"\\n        size-xsm=\\\"12\\\"\\n        size-xs=\\\"12\\\"\\n        size-med=\\\"6\\\"\\n        size-lg=\\\"6\\\"\\n        offset-med=\\\"3\\\"\\n        offset-lg=\\\"3\\\"\\n      >\\n        <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\n          <ion-item>\\n            <ion-label\\n              color=\\\"primary\\\"\\n              class=\\\"ion-text-start ion-text-capitalize ion-text-wrap\\\"\\n            >\\n              <h3><b>{{ loadedTask.task }} </b></h3>\\n\\n              <ion-note size=\\\"samll\\\" slot=\\\"start\\\" class=\\\"default\\\">\\n                <i style=\\\"font-size: smaller;\\\"> {{loadedTask.taskdate}}</i>\\n              </ion-note>\\n              <ion-badge\\n                style=\\\"float: right;\\\"\\n                [color]=\\\"\\n                loadedTask.progress > 99\\n                      ? 'success'\\n                      : loadedTask.progress < 50\\n                      ? 'warning'\\n                      : 'primary'\\n                  \\\"\\n              >\\n                {{ loadedTask.progress|percent }}\\n              </ion-badge>\\n              <ion-label\\n                size=\\\"samll\\\"\\n                class=\\\"ion-text-start ion-text-capitalize\\\"\\n              >\\n                \\n                <ion-note size=\\\"samll\\\" class=\\\"ion-text-start i ion-text-wrap\\\">\\n                  {{ loadedTask.details}}\\n                </ion-note>\\n              </ion-label>\\n            </ion-label>\\n          </ion-item>\\n        </ion-list>\\n\\n        <!--     \\n        <div class=\\\"ion-padding\\\">\\n          <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"ion-no-margin\\\"\\n            >Save</ion-button\\n          >\\n        </div> -->\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TaskSubviewPage } from './task-subview.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TaskSubviewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TaskSubviewPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TaskSubviewPageRoutingModule } from './task-subview-routing.module';\n\nimport { TaskSubviewPage } from './task-subview.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TaskSubviewPageRoutingModule\n  ],\n  declarations: [TaskSubviewPage]\n})\nexport class TaskSubviewPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL1BhZ2VzL3Rhc2stc3Vidmlldy90YXNrLXN1YnZpZXcucGFnZS5zY3NzIn0= */\";"," \n\n\nimport { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Task } from \"../../Models/task\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { NavController, AlertController } from \"@ionic/angular\";\nimport { TasksService } from \"src/app/Services/tasks.service\";\nimport { Subscription } from \"rxjs\";\n\n@Component({\n  selector: 'app-task-subview',\n  templateUrl: './task-subview.page.html',\n  styleUrls: ['./task-subview.page.scss'],\n})\nexport class TaskSubviewPage implements OnInit {\n  loadedTask = Object.create(Task); // Variable need to be initialized!!!\n  taskSub: Subscription;\n\n  constructor(\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private tasksService: TasksService,\n    private alCtr: AlertController\n  ) {}\n\n  ngOnInit() {\n    this.route.paramMap.subscribe((paramMap) => {\n      if (!paramMap.has(\"taskid\")) {\n        this.navCtrl.navigateBack(\"/tasktracker/teamprogress\");\n        return;\n      }\n\n      this.taskSub = this.tasksService\n        .getTask(paramMap.get(\"taskid\"))\n        .subscribe((task) => {\n          console.log(\"Subscripting: \", task);\n          this.loadedTask = task;\n          console.log(\"This.loadedTask.id = \", this.loadedTask.id);\n        });\n    });\n  }\n\n  updateTask() {\n    console.log(\"The task is going to be updated with data: \", this.loadedTask);\n    this.tasksService.updateTask(this.loadedTask).subscribe();\n  }\n  back() {\n    this.navCtrl.back();\n  }\n  deleteTask() {\n    this.alCtr\n      .create({\n        subHeader: \" Delete Alert   \",\n        cssClass: \"alertButton\",\n        message:\n          \" <span class='deleteMsg'>Do you want to delete this Task? </span> \",\n        buttons: [\n          { text: \"Cancel\", role: \"cancel\", cssClass: \"alertButton\" },\n          {\n            text: \"Delete\",\n            cssClass: \"alertButton\",\n            handler: () => {\n              console.log(\n                \"Trying to delete task with ID: \",\n                this.loadedTask.id\n              );\n              this.tasksService.deleteTask(this.loadedTask).subscribe();\n              this.navCtrl.navigateBack(\"/tasktracker/mytasks\");\n            },\n          },\n        ],\n      })\n      .then((al) => {\n        al.present();\n      });\n\n    // return;\n  }\n\n  onViewWillEnter() {\n    this.tasksService.fetchMyTasks(this.tasksService.loginedUser.userId);\n  }\n\n  onViewWillLeave() {\n    this.tasksService.updateTask(this.loadedTask);\n  }\n\n  ngOnDestroy() {\n    if (this.taskSub) {\n      this.taskSub.unsubscribe();\n    }\n  }\n}\n"]}
{"version":3,"sources":["webpack:///src/app/Components/expandable/expandable.component.html","webpack:///src/app/Components/sub-task/sub-task.component.html","webpack:///src/app/Pages/task-subview/task-subview.page.html","webpack:///src/app/Components/expandable/expandable.component.scss","webpack:///src/app/Components/expandable/expandable.component.ts","webpack:///src/app/Components/sub-task/sub-task.component.scss","webpack:///src/app/Components/sub-task/sub-task.component.ts","webpack:///src/app/Pages/task-subview/task-subview-routing.module.ts","webpack:///src/app/Pages/task-subview/task-subview.module.ts","webpack:///src/app/Pages/task-subview/task-subview.page.scss","webpack:///src/app/Pages/task-subview/task-subview.page.ts"],"names":["ExpandableComponent","renderer","expanded","expandHeight","setStyle","expandWrapper","nativeElement","read","selector","template","SubTaskComponent","rendr","SubTaskObj","Object","routes","path","component","TaskSubviewPageRoutingModule","imports","forChild","exports","TaskSubviewPageModule","declarations","TaskSubviewPage","route","navCtrl","tasksService","alCtr","navCtr","modalCtrl","renderFctry","auth","loadedTask","create","subTasks","Array","createRenderer","loadData","paramMap","subscribe","has","navigateBack","taskSub","getTask","get","task","console","log","progress","parsPercentage","id","getSubTasks","then","res","map","item","length","divMsg","style","display","taskid","sort","a","b","Date","parse","taskdate","subtasklist","back","val","Number","parseFloat","toFixed","fetchMyTasks","loginedUser","userId","updateTask","unsubscribe","isLoggedIn","componentProps","modalElement","present","onDidDismiss","resultData","listItem"],"mappings":"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","file":"task-subview-task-subview-module-es5.js","sourcesContent":["export default \"<div #expandWrapper class='expand-wrapper' [class.collapsed]=\\\"!expanded\\\"   >\\n  <ng-content ></ng-content>\\n\\n  \\n</div>\";","export default \"<ion-grid [ngClass]=\\\"{'':!SubTaskObj.expanded , 'ActiveTask':SubTaskObj.expanded}\\\"  >\\n  <ion-row > \\n    <ion-col class=\\\"ion-margin-horizontal\\\">\\n      <ion-list\\n        lines=\\\"full\\\"\\n        class=\\\"ion-no-margin ion-no-padding\\\"\\n        [(ngModel)]=\\\"SubTaskObj\\\"\\n        ngDefaultControl\\n        name=\\\"lstobjects\\\"\\n        #lstobjects\\n      >\\n        <ion-item lines=\\\"full\\\"  [ngClass]=\\\"{'':!SubTaskObj.expanded , 'item-background-color':SubTaskObj.expanded}\\\">\\n          <ion-label\\n        \\n            class=\\\"ion-text-start ion-text-capitalize ion-text-wrap\\\"\\n          >\\n            <!-- <h3>\\n                <b>{{ SubTaskObj.subtask }} </b>\\n              </h3> -->\\n\\n            <ion-text size=\\\"samll\\\" slot=\\\"start\\\" color=\\\"secondary\\\">\\n              <i style=\\\"font-size: smaller;\\\">\\n                {{ SubTaskObj.taskdate | date }}</i\\n              >\\n            </ion-text>\\n            <ion-badge\\n              style=\\\"float: right;\\\"\\n              [color]=\\\"\\n                SubTaskObj.progress > 99\\n                  ? 'success'\\n                  : SubTaskObj.progress <50\\n                  ? 'warning'\\n                  : 'primary'\\n              \\\"\\n            >\\n              {{ SubTaskObj.progress }}\\n            </ion-badge>\\n            <ion-label size=\\\"samll\\\" class=\\\"ion-text-start ion-text-capitalize\\\">\\n              <ion-text\\n               \\n                size=\\\"samll\\\"\\n                class=\\\"ion-text-start ion-text-wrap\\\"\\n              >\\n                {{ SubTaskObj.details }}\\n              </ion-text>\\n            </ion-label>\\n          </ion-label>\\n        </ion-item>\\n      </ion-list>\\n\\n      <!--     \\n        <div class=\\\"ion-padding\\\">\\n          <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"ion-no-margin\\\"\\n            >Save</ion-button\\n          >\\n        </div> -->\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\";","export default \"<ion-header class=\\\"ion-no-margin ion-no-padding ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-item lines=\\\"full\\\">\\n      <ion-buttons>\\n        <ion-button slot=\\\"start\\\" (click)=\\\"back()\\\">\\n          <ion-icon\\n            size=\\\"small\\\"\\n            slot=\\\"icon-only\\\"\\n            src=\\\"../assets/images/return-svg.svg\\\"\\n          ></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n      <span>\\n        Task History\\n        <b color=\\\"primary\\\" *ngIf=\\\" subTasks.length>0\\\">({{subTasks.length}})</b>\\n      </span>\\n      <ion-buttons *ngIf=\\\"auth.isLoggedIn()\\\" slot=\\\"end\\\">\\n        <ion-button (click)=\\\"openNewTaskModal()\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\">\\n      <ion-label\\n        color=\\\"primary\\\"\\n        class=\\\"ion-text-start ion-text-capitalize ion-text-wrap\\\"\\n      >\\n        <h3><b>{{ loadedTask.task }} </b></h3>\\n\\n        <ion-text size=\\\"samll\\\" slot=\\\"start\\\" color=\\\"secondary\\\">\\n          <i style=\\\"font-size: smaller;\\\"> {{loadedTask.taskdate|date}}</i>\\n        </ion-text>\\n        <ion-badge\\n          style=\\\"float: right;\\\"\\n          [color]=\\\"\\n            loadedTask.progress > 99\\n                  ? 'success'\\n                  : loadedTask.progress < 50\\n                  ? 'warning'\\n                  : 'primary'\\n              \\\"\\n        >\\n          {{ loadedTask.progress}}%\\n        </ion-badge>\\n        <ion-label size=\\\"samll\\\" class=\\\"ion-text-start ion-text-capitalize\\\">\\n          <ion-text\\n            color=\\\"medium\\\"\\n            size=\\\"samll\\\"\\n            class=\\\"ion-text-start ion-text-wrap\\\"\\n          >\\n            {{ loadedTask.details}}\\n          </ion-text>\\n        </ion-label>\\n        <!-- <ion-text\\n          color=\\\"secondary\\\"\\n          size=\\\"samll\\\"\\n          class=\\\"ion-text-start ion-text-wrap\\\"\\n        >\\n          Toatal Sub-Tasks:\\n        </ion-text> -->\\n      </ion-label>\\n    </ion-item>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<!-- Card view  -->\\n<ion-content class=\\\"ion-no-margin ion-no-padding\\\">\\n  <!-- <ion-grid class=\\\"ion-text-left ion-align-items-stretch\\\">\\n    <ion-row>\\n      <ion-col\\n        size-xs=\\\"12\\\"\\n        size-xsm=\\\"12\\\"\\n        size-xs=\\\"12\\\"\\n        size-med=\\\"8\\\"\\n        offset-med=\\\"2\\\"\\n        size-lg=\\\"6\\\"\\n        offset-lg=\\\"3\\\"\\n        size-xlg=\\\"6\\\"\\n        offset-xlg=\\\"3\\\"     [ngStyle]=\\\"{'detail-icon':item.expanded==true? 'chevron-down-outline' : 'chevron-up-outline' }\\\"\\n      > -->\\n\\n  <ion-card *ngIf=\\\"subTasks.length>0\\\">\\n    <ion-card-content class=\\\"ion-no-margin ion-no-padding\\\">\\n      <ion-row *ngFor=\\\"let item of subTasks\\\" (click)=\\\"expandItem(item)\\\">\\n        <ion-col size=\\\"12\\\">\\n          <ion-item\\n            detail=\\\"true\\\"\\n            lines=\\\"full\\\"\\n            #lstTasks\\n            [color]=\\\"item.expanded ? 'secondary' : '#'\\\"\\n            [detailIcon]=\\\"item.expanded ? 'remove' : 'chevron-down-outline'\\\"\\n          >\\n            <ion-label\\n              size=\\\"small\\\"\\n              class=\\\"ion-text-capitalize ion-text-wrap\\\"\\n              color=\\\"secondary\\\"\\n              [ngClass]=\\\"{'':!item.expanded,'ActiveTask':item.expanded}\\\"\\n            >\\n              <!-- <ion-icon\\n                  style=\\\"float: right;\\\"\\n                  slot=\\\"icon-only\\\"\\n                  color=\\\"primary\\\"\\n                  src=\\\"../assets/images/chevron-forward-outline.svg \\\"\\n                ></ion-icon> -->\\n              <span> {{item.subtask}} </span>\\n            </ion-label>\\n          </ion-item>\\n\\n          <app-expandable [expanded]=\\\"item.expanded\\\" color=\\\"medium\\\">\\n            <app-sub-task [SubTaskObj]=\\\"item\\\"></app-sub-task>\\n          </app-expandable>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card-content>\\n  </ion-card>\\n  <div\\n    #divMsg\\n    style=\\\"display: none;\\\"\\n    class=\\\"ion-no-padding ion-margin-top ion-margin-horizontal\\\"\\n  >\\n    <ion-chip\\n      color=\\\"danger\\\"\\n      class=\\\"ion-justify-content-center\\\"\\n      style=\\\"width: 98%;\\\"\\n    >\\n      <ion-label>There is no History entries for this task .</ion-label>\\n    </ion-chip>\\n  </div>\\n  <!-- </ion-col>\\n    </ion-row>\\n  </ion-grid> -->\\n</ion-content>\\n\";","export default \".expand-wrapper {\\n  transition: 0.6s ease-in-out;\\n  overflow: hidden;\\n  height: auto;\\n}\\n\\n.collapsed {\\n  max-height: 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQ29tcG9uZW50cy9leHBhbmRhYmxlL0Q6XFxXb3JrXFxMVElcXFByb2plY3RzXFxJb25pY1xcVGFza1RyYWNrZXIvc3JjXFxhcHBcXENvbXBvbmVudHNcXGV4cGFuZGFibGVcXGV4cGFuZGFibGUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL0NvbXBvbmVudHMvZXhwYW5kYWJsZS9leHBhbmRhYmxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksNEJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUNDSjs7QURFRTtFQUNFLHdCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9Db21wb25lbnRzL2V4cGFuZGFibGUvZXhwYW5kYWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5leHBhbmQtd3JhcHBlciB7XG4gICAgdHJhbnNpdGlvbjogIDAuNjBzIGVhc2UtaW4tb3V0O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgaGVpZ2h0OiBhdXRvO1xuICB9XG4gIFxuICAuY29sbGFwc2VkIHtcbiAgICBtYXgtaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIH1cblxuICAiLCIuZXhwYW5kLXdyYXBwZXIge1xuICB0cmFuc2l0aW9uOiAwLjZzIGVhc2UtaW4tb3V0O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbi5jb2xsYXBzZWQge1xuICBtYXgtaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG59Il19 */\";","import { Component, AfterViewInit, Input, ViewChild,  ElementRef, Renderer2 } from \"@angular/core\";\n\n@Component({\n  selector: \"app-expandable\",\n  templateUrl: \"./expandable.component.html\",\n  styleUrls: [\"./expandable.component.scss\"]\n})\nexport class ExpandableComponent implements AfterViewInit {\n  @ViewChild(\"expandWrapper\", { read: ElementRef }) expandWrapper: ElementRef;\n  @Input(\"expanded\") expanded: boolean = false;\n  @Input(\"expandHeight\") expandHeight: string = \"auto\";\n\n  constructor(public renderer: Renderer2) {}\n\n  ngAfterViewInit() {\n    this.renderer.setStyle(this.expandWrapper.nativeElement, \"max-height\", this.expandHeight);\n  }\n}","export default \".expand-wrapper {\\n  transition: max-height 0.4s ease-in-out;\\n  overflow: hidden;\\n  height: auto;\\n}\\n\\n.collapsed {\\n  max-height: 0 !important;\\n}\\n\\n.ActiveTask {\\n  background: var(--ion-color-light-tint);\\n  color: var(--ion-color-primary);\\n}\\n\\n.item-background-color {\\n  color: var(--ion-color-dark-tint);\\n  --ion-item-background:var(--ion-color-light-tint);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQ29tcG9uZW50cy9zdWItdGFzay9EOlxcV29ya1xcTFRJXFxQcm9qZWN0c1xcSW9uaWNcXFRhc2tUcmFja2VyL3NyY1xcYXBwXFxDb21wb25lbnRzXFxzdWItdGFza1xcc3ViLXRhc2suY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL0NvbXBvbmVudHMvc3ViLXRhc2svc3ViLXRhc2suY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1Q0FBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0Usd0JBQUE7QUNDRjs7QURDQTtFQUNFLHVDQUFBO0VBQ0EsK0JBQUE7QUNFRjs7QURDQTtFQUNFLGlDQUFBO0VBQ0MsaURBQUE7QUNFSCIsImZpbGUiOiJzcmMvYXBwL0NvbXBvbmVudHMvc3ViLXRhc2svc3ViLXRhc2suY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhwYW5kLXdyYXBwZXIge1xyXG4gIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMC40cyBlYXNlLWluLW91dDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIGhlaWdodDogYXV0bztcclxufVxyXG5cclxuLmNvbGxhcHNlZCB7XHJcbiAgbWF4LWhlaWdodDogMCAhaW1wb3J0YW50O1xyXG59XHJcbi5BY3RpdmVUYXNrIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtdGludCk7XHJcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuXHJcbn1cclxuLml0ZW0tYmFja2dyb3VuZC1jb2xvcntcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmstdGludCk7XHJcbiAgIC0taW9uLWl0ZW0tYmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3ItbGlnaHQtdGludCk7ICBcclxufVxyXG5cclxuIiwiLmV4cGFuZC13cmFwcGVyIHtcbiAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjRzIGVhc2UtaW4tb3V0O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbi5jb2xsYXBzZWQge1xuICBtYXgtaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG59XG5cbi5BY3RpdmVUYXNrIHtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXRpbnQpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuXG4uaXRlbS1iYWNrZ3JvdW5kLWNvbG9yIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrLXRpbnQpO1xuICAtLWlvbi1pdGVtLWJhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLWxpZ2h0LXRpbnQpO1xufSJdfQ== */\";","import {\n  Component,\n  OnInit,\n  ViewChild,\n  ElementRef,\n  Renderer2,\n  Input,\n  Inject,\n} from \"@angular/core\";\n\n \n\n@Component({\n  selector: \"app-sub-task\",\n  templateUrl: \"./sub-task.component.html\",\n  styleUrls: [\"./sub-task.component.scss\"],\n})\nexport class SubTaskComponent implements OnInit {\n  @ViewChild(\"expandWrapper\", { read: ElementRef }) expandWrapper: ElementRef;\n  @Input(\"expanded\") expanded: boolean = false;\n  @Input(\"expandHeight\") expandHeight: string = \"150px\";\n  @Input(\"SubTaskObj\") SubTaskObj: any = new Object();\n\n  constructor(public rendr: Renderer2) {\n     \n  }\n\n  // ngAfterViewInit() {\n  //   this.renderer.setStyle(\n  //     this.expandWrapper.nativeElement,\n  //     \"max-height\",\n  //     this.expandHeight\n  //   );\n  // }\n\n  ngOnInit() {}\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TaskSubviewPage } from './task-subview.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TaskSubviewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TaskSubviewPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TaskSubviewPageRoutingModule } from './task-subview-routing.module';\n\nimport { TaskSubviewPage } from './task-subview.page';\nimport { SubTaskComponent } from 'src/app/Components/sub-task/sub-task.component';\nimport { ExpandableComponent } from 'src/app/Components/expandable/expandable.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TaskSubviewPageRoutingModule\n  ],\n  declarations: [TaskSubviewPage,SubTaskComponent,ExpandableComponent]\n})\nexport class TaskSubviewPageModule {}\n","export default \".ActiveTask {\\n  color: var(--ion-color-dark);\\n}\\n\\n.item-background-color {\\n  --ion-item-background: var(--ion-color-secondary-tint);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvdGFzay1zdWJ2aWV3L0Q6XFxXb3JrXFxMVElcXFByb2plY3RzXFxJb25pY1xcVGFza1RyYWNrZXIvc3JjXFxhcHBcXFBhZ2VzXFx0YXNrLXN1YnZpZXdcXHRhc2stc3Vidmlldy5wYWdlLnNjc3MiLCJzcmMvYXBwL1BhZ2VzL3Rhc2stc3Vidmlldy90YXNrLXN1YnZpZXcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsNEJBQUE7QUNBRjs7QURJQTtFQUNFLHNEQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9QYWdlcy90YXNrLXN1YnZpZXcvdGFzay1zdWJ2aWV3LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5BY3RpdmVUYXNrIHtcclxuICAvL2JhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xyXG5cclxufVxyXG5cclxuLml0ZW0tYmFja2dyb3VuZC1jb2xvciB7XHJcbiAgLS1pb24taXRlbS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5LXRpbnQpO1xyXG4gXHJcbn1cclxuLy8gIC5pdGVtLWRldGFpbC1pY29uIHtcclxuLy8gICAtLWl0ZW0tZGV0YWlsLWljb246ICB2YXIoLS1pb24tY29sb3ItZGFyayk7XHJcbi8vICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xyXG4vLyAgICAtLWl0ZW0tZGV0YWlsLWljb246IFwiY2hldnJvbi1kb3duLW91dGxpbmVcIjtcclxuLy8gICAgIG9wYWNpdHk6IDkwJTtcclxuLy8gICAgIGJvcmRlci1jb2xvcjogeWVsbG93OztcclxuLy8gfSIsIi5BY3RpdmVUYXNrIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbn1cblxuLml0ZW0tYmFja2dyb3VuZC1jb2xvciB7XG4gIC0taW9uLWl0ZW0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS10aW50KTtcbn0iXX0= */\";","import {\n  Component,\n  OnInit,\n  Renderer2,\n  ElementRef,\n  ViewChild,\n  RendererFactory2,\n} from \"@angular/core\";\nimport { Task } from \"../../Models/task\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport {\n  NavController,\n  AlertController,\n  ModalController,\n} from \"@ionic/angular\";\nimport { TasksService } from \"src/app/Services/tasks.service\";\nimport { Subscription } from \"rxjs\";\n\nimport { CreateSubtaskPage } from \"../create-subtask/create-subtask.page\";\nimport { AuthService } from \"src/app/Services/authService.service\";\n\n@Component({\n  selector: \"app-task-subview\",\n  templateUrl: \"./task-subview.page.html\",\n  styleUrls: [\"./task-subview.page.scss\"],\n})\nexport class TaskSubviewPage implements OnInit {\n  loadedTask = Object.create(Task); // Variable need to be initialized!!!\n  taskSub: Subscription;\n  rendr: Renderer2;\n  subTasks: any[] = new Array();\n\n  @ViewChild(\"divMsg\") divMsg: ElementRef;\n\n  constructor(\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private tasksService: TasksService,\n    private alCtr: AlertController,\n    public navCtr: NavController,\n    private modalCtrl: ModalController,\n    private renderFctry: RendererFactory2,\n    public auth: AuthService\n  ) {\n    this.rendr = renderFctry.createRenderer(null, null);\n  }\n\n  ngOnInit() {\n    this.loadData();\n  }\n\n  loadData() {\n    this.route.paramMap.subscribe((paramMap) => {\n      if (!paramMap.has(\"taskid\")) {\n        this.navCtrl.navigateBack(\"/tasktracker/teamprogress\");\n        return;\n      }\n\n      this.taskSub = this.tasksService\n        .getTask(paramMap.get(\"taskid\"))\n        .subscribe((task) => {\n          console.log(\"Subscripting: \", task);\n          this.loadedTask = task;\n          this.loadedTask.progress = this.parsPercentage(task.progress);\n          console.log(\"This.loadedTask.id = \", this.loadedTask.id);\n          this.getSubTasks(task.id).then((res) => {\n            // res[0].expanded=true;\n            this.subTasks = res;\n\n            this.subTasks.map((item) => {\n              item.expanded = false;\n            });\n            if (this.subTasks.length < 1) {\n              this.divMsg.nativeElement.style.display = \"block\";\n            } else {\n              this.divMsg.nativeElement.style.display = \"none\";\n              this.subTasks[0].expanded = true;\n            }\n            console.log(\"   this.subTasks .expanded= ; \", this.subTasks);\n          });\n        });\n    });\n  }\n  async getSubTasks(taskid): Promise<any[]> {\n    let subtasklist = await this.tasksService\n      .getSubTasks(taskid)\n      .then((res) => {\n        console.log(\" getSubTasks(taskid): Promise<SubTask[]>\", res);\n\n        return res.sort(\n          (a, b) => Date.parse(b.taskdate) - Date.parse(a.taskdate)\n        ); // order by date DESC;\n      });\n    return subtasklist;\n  }\n  back() {\n    this.navCtrl.back();\n  }\n  parsPercentage(val): number {\n    // let progress = (parseFloat(val) > 1\n    //   ? parseFloat(val)\n    //   : parseFloat(val) * 100\n    // ).toFixed(0);\n\n    return Number(\n      (parseFloat(val) > 1 ? parseFloat(val) : parseFloat(val) * 100).toFixed(0)\n    );\n  }\n\n  onViewWillEnter() {\n    this.tasksService.fetchMyTasks(this.tasksService.loginedUser.userId);\n  }\n\n  onViewWillLeave() {\n    this.tasksService.updateTask(this.loadedTask);\n  }\n\n  ngOnDestroy() {\n    if (this.taskSub) {\n      this.taskSub.unsubscribe();\n    }\n  }\n  openNewTaskModal() {\n    if (this.auth.isLoggedIn()) {\n      this.modalCtrl\n        .create({\n          component: CreateSubtaskPage,\n          componentProps: { task: this.loadedTask },\n        })\n        .then((modalElement) => {\n          modalElement.present();\n          return modalElement.onDidDismiss();\n        })\n        .then((resultData) => {\n          console.log(\"ResultData: \", resultData);\n          this.loadData();\n        });\n    } else return false;\n  }\n\n  itemId: any;\n  expandItem(item) {\n    this.subTasks.map((listItem: any) => {\n      if (item == listItem) {\n        listItem.expanded = !listItem.expanded;\n      } else {\n        listItem.expanded = false;\n      }\n\n      // if (!listItem) {\n      //   this.rendr.setAttribute(\n      //     this.lstTasks.nativeElement,\n      //     \"detailIcon\",\n      //     \"chevron-down-outline\"\n      //   );\n      // }\n      return listItem;\n    });\n  }\n}\n"]}